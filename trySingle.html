<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>single bind</title>
</head>

<body>
    <input type="text" id="input" class="input inputMailList" name="email" placeholder="请输入您输入的公司" required autofocus autocomplete="off" />
    <p id="output"> output: </p>
    <ul id="ul">
        <!-- <li>new</li> -->
        <!-- <li>新东方</li>
        <li>新华三</li>
        <li>华为</li>
        <li>海康</li>
        <li>中兴</li>
        <li>有赞新</li> -->
    </ul>

    <script>
        var obj = {};
        var input = document.getElementById('input');
        let inputValue = "";
        let arrCompony = ['新华三', '新东方', '华为', '海康', '中兴', '有赞新']
        var ul = document.getElementById("ul");
        var key = {
            "up": 38,
            "down": 40,
            "enter": 13
        }
        // Object.defineProperty(obj, "input", {
        //     // writable: true, //属性能否被修改
        //     enumerable: true,  //定义属性是否再for..in obj时被打印
        //     configurable: true,  //能否被删除和修改。
        //     get: () => {
        //         return input.value;
        //     },
        //     set: (val) => {
        //         output.innerHTML = val;
        //     }
        // });
        let indexInput;

        input.onkeyup = () => {
            // obj.input = input.value;
            inputValue = input.value;
            console.log('inputValue', inputValue);
            //每次新的键入清空内容，便于填入。
            ul.innerHTML = "";
            arrCompony.forEach(function (element) {
                indexInput = element.indexOf(inputValue);
                console.log(indexInput, element);
                if ((indexInput !== -1) && (inputValue !== "")) {
                    ul.innerHTML += "<li>" + element + "</li>";
                }
            }, this);
        }
        ul.onclick = function (e) {
            var event = e || window.event;
            var target = event.target || event.srcElement;

            if(target.tagName.toLowerCase() == 'li'){
                console.log(target.innerHTML);
                console.log('input  value console',inputValue);
                input.value = target.innerHTML;
                console.log('input  value console end',inputValue);
            }
        };
        obj.input = "";
    </script>
</body>

</html>